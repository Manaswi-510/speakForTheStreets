<!DOCTYPE html>
<html>
<head>
  <title>Upload Report</title>
</head>
<body>
  <h2>Upload a Report</h2>
  <form id="reportForm">
    <input type="text" id="title" placeholder="Title" required><br><br>
    <textarea id="description" placeholder="Description" required></textarea><br><br>
    <input type="file" id="image" accept="image/*" required><br><br>
    <input type="number" id="latitude" placeholder="Latitude" step="any" required><br><br>
    <input type="number" id="longitude" placeholder="Longitude" step="any" required><br><br>
    <button type="submit">Submit Report</button>
  </form>

  <script>
    const form = document.getElementById("reportForm");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = new FormData();
      formData.append("title", document.getElementById("title").value);
      formData.append("description", document.getElementById("description").value);
      formData.append("latitude", document.getElementById("latitude").value);
      formData.append("longitude", document.getElementById("longitude").value);
      formData.append("image", document.getElementById("image").files[0]);

      try {
        const response = await fetch("http://localhost:5000/report", {
          method: "POST",
          body: formData
        });
        const data = await response.json();
        alert(data.message);
      } catch (err) {
        console.error("Error:", err);
        alert("Upload failed");
      }
    });
  </script>
</body>
</html>
